!function(t){function n(e){if(o[e])return o[e].exports;var a=o[e]={exports:{},id:e,loaded:!1};return t[e].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var o={};return n.m=t,n.c=o,n.p="http://localhost:7301/public/dist",n(0)}([function(t,n,o){var e,a=o(1),r=(o(2),o(3),a.isSupportWebGL());e=r?new PIXI.WebGLRenderer(640,1004,{transparent:!0}):new PIXI.CanvasRenderer(640,1004,{transparent:!0});var i=function(t){function n(){t.render&&t.render(),t.children.forEach(function(t){t.render&&t.render()}),e.render(t),requestAnimationFrame(n)}n()};document.body.appendChild(e.view),o(4)(i)},function(t,n){t.exports={isSupportWebGL:function(){if(window.WebGLRenderingContext){for(var t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],o=!1,e=0;e<4;e++)try{if(o=t.getContext(n[e]),o&&"function"==typeof o.getParameter)return!0}catch(t){}return!1}return!1}}},function(t,n){var o=function(t,n,e){if(1===n.length){var a=n[0];"function"==typeof t[a]?t[a].apply(t,[].concat(e)):t[a]=e}else o(t[n.shift()],n,e);return t},e=function(t,n){for(var e in n)o(t,e.split("."),n[e]);return t};t.exports={getMc:function(t){var n=t.maxFrame,o=t.preFix,a=[];delete t.maxFrame,delete t.preFix;for(var r=1;r<=n;r++)a.push(PIXI.Texture.fromFrame(o+r+".png"));var i=new PIXI.extras.MovieClip(a);return i.maxFrame=t.maxFrame,e(i,t)},getIm:function(t){var n=t.img;delete t.img;var o=PIXI.Texture.fromImage(n),a=new PIXI.Sprite(o);return e(a,t)}}},function(t,n,o){var e={leftFoot:"/images/hitRunMan/foot/leftFoot.json",rightFoot:"/images/hitRunMan/foot/rightFoot.json",gold:"/images/hitRunMan/gold/gold.json",playBg:"/images/hitRunMan/background/playBackground.png",gift:"/images/hitRunMan/gift/gift.json",runMan:"/images/hitRunMan/runMan/runMan.json",pa:"/images/hitRunMan/pa/pa.png",house1:"/images/hitRunMan/house/house1.png",house2:"/images/hitRunMan/house/house2.png",house3:"/images/hitRunMan/house/house3.png",start_snowman:"/images/hitRunMan/start_snowman/start_snowman.json",startTitle:"/images/hitRunMan/background/startTitle.png",startBackground:"/images/hitRunMan/startBackground/startBackground.png",snowmanhand:"/images/hitRunMan/snowmanhand/snowmanhand.png",howToShare:"/images/hitRunMan/background/howToShare.png",playAgain:"/images/hitRunMan/playAgain/playAgain.png",shareButton:"/images/hitRunMan/playAgain/share.png",resultSuccess:"/images/hitRunMan/playAgain/resultSuccess.png",resultFail:"/images/hitRunMan/playAgain/resultFail.png",endSign:"/images/hitRunMan/background/endSign.png",startBgm:"/audio/start_bgm.mp3",gameBgm:"/audio/hot_run.mp3",start:{start_snowman:"/images/hitRunMan/start_snowman/start_snowman.json",startTitle:"/images/hitRunMan/background/startTitle.png",startBackground:"/images/hitRunMan/startBackground/startBackground.png",gift:"/images/hitRunMan/gift/gift.json",snowmanhand:"/images/hitRunMan/snowmanhand/snowmanhand.png"},game:{leftFoot:"/images/hitRunMan/foot/leftFoot.json",rightFoot:"/images/hitRunMan/foot/rightFoot.json",runMan:"/images/hitRunMan/runMan/runMan.json",gold:"/images/hitRunMan/gold/gold.json",pa:"/images/hitRunMan/pa/pa.png",house1:"/images/hitRunMan/house/house1.png",house2:"/images/hitRunMan/house/house2.png",house3:"/images/hitRunMan/house/house3.png",playBg:"/images/hitRunMan/background/playBackground.png"},end:{resultSuccess:"/images/hitRunMan/playAgain/resultSuccess.png",resultFail:"/images/hitRunMan/playAgain/resultFail.png",endSign:"/images/hitRunMan/background/endSign.png",howToShare:"/images/hitRunMan/background/howToShare.png"}},a={leftFoot:"http://o8c60jr2y.bkt.clouddn.com/runman/1/foot/leftFoot.json",rightFoot:"http://o8c60jr2y.bkt.clouddn.com/runman/1/foot/rightFoot.json",gold:"http://o8c60jr2y.bkt.clouddn.com/runman/1/gold/gold.json",playBg:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/playBackground.png",gift:"http://o8c60jr2y.bkt.clouddn.com/runman/1/gift/gift.json",runMan:"http://o8c60jr2y.bkt.clouddn.com/runman/1/runMan/runMan.json",pa:"http://o8c60jr2y.bkt.clouddn.com/runman/1/pa/pa.png",house1:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house1.png",house2:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house2.png",house3:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house3.png",start_snowman:"http://o8c60jr2y.bkt.clouddn.com/runman/1/start_snowman/start_snowman.json",startTitle:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/startTitle.png",startBackground:"http://o8c60jr2y.bkt.clouddn.com/runman/1/startBackground/startBackground.png",snowmanhand:"http://o8c60jr2y.bkt.clouddn.com/runman/1/snowmanhand/snowmanhand.png",howToShare:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/howToShare.png",playAgain:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/playAgain.png",shareButton:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/share.png",resultSuccess:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/resultSuccess.png",resultFail:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/resultFail.png",endSign:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/endSign.png",startBgm:"http://o8c60jr2y.bkt.clouddn.com/runman/1/start_bgm.mp3",gameBgm:"http://o8c60jr2y.bkt.clouddn.com/runman/1/hot_run.mp3",start:{start_snowman:"http://o8c60jr2y.bkt.clouddn.com/runman/1/start_snowman/start_snowman.json",startTitle:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/startTitle.png",startBackground:"http://o8c60jr2y.bkt.clouddn.com/runman/1/startBackground/startBackground.png",gift:"http://o8c60jr2y.bkt.clouddn.com/runman/1/gift/gift.json",snowmanhand:"http://o8c60jr2y.bkt.clouddn.com/runman/1/snowmanhand/snowmanhand.png"},game:{leftFoot:"http://o8c60jr2y.bkt.clouddn.com/runman/1/foot/leftFoot.json",rightFoot:"http://o8c60jr2y.bkt.clouddn.com/runman/1/foot/rightFoot.json",runMan:"http://o8c60jr2y.bkt.clouddn.com/runman/1/runMan/runMan.json",gold:"http://o8c60jr2y.bkt.clouddn.com/runman/1/gold/gold.json",pa:"http://o8c60jr2y.bkt.clouddn.com/runman/1/pa/pa.png",house1:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house1.png",house2:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house2.png",house3:"http://o8c60jr2y.bkt.clouddn.com/runman/1/house/house3.png",playBg:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/playBackground.png"},end:{resultSuccess:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/resultSuccess.png",resultFail:"http://o8c60jr2y.bkt.clouddn.com/runman/1/playAgain/resultFail.png",howToShare:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/howToShare.png",endSign:"http://o8c60jr2y.bkt.clouddn.com/runman/1/background/endSign.png"}},r={local:e,cdn1:a},i="cdn1";t.exports=r[i]||r.local},function(t,n,o){var e=o(3),a=!1;t.exports=function(t){document.querySelector("#bgm").src=e.startBgm;var n=function(n){a=!0;var r=new PIXI.Container;r.customTimer=0;var i=o(2),s=i.getIm({img:e.startBackground,"position.set":[320,0],"anchor.set":[.5,0]}),u=o(5);u.down();var c=o(6),d=o(7);r.addChild(s),r.addChild(d),r.addChild(c),r.addChild(u),r.render=function(){r.customTimer<=240?r.customTimer++:0==c.status&&c.handdown(),2==c.status&&(c.handup(),u.up()),4==c.status&&(o(8)(t),c.status=5)},t(r)};if(a)n();else{var r=o(26);r(e.start,n)}}},function(t,n,o){var e=o(2),a=(o(3),e.getMc({maxFrame:2,preFix:"gift","position.set":[46,800],"scale.x":1,"scale.y":1,"anchor.set":[0,0]}));a.status=0,a.up=function(){a.gotoAndStop(1),a.status=1},a.down=function(){a.gotoAndStop(2)},a.render=function(){if(1==a.status){a.y-=2;var t=.04*(a.y-650);a.x=10+t*t,a.y<500&&(a.status=2)}},t.exports=a},function(t,n,o){var e=o(2),a=o(3),r=e.getIm({img:a.snowmanhand,"anchor.set":[1,1],"position.set":[250,700],"scale.x":1,"scale.y":1,rotation:0});r.status=0,r.handdown=function(){r.status=1},r.handup=function(){r.status=3},r.render=function(){1==r.status?(r.rotation-=.01,r.rotation<=-1.5&&(r.rotation=-1.5,r.status=2)):3==r.status&&(r.rotation+=.01,r.rotation>=0&&(r.rotation=0,r.status=4))},t.exports=r},function(t,n,o){var e=o(2),a=e.getMc({maxFrame:5,preFix:"start_snowman","position.set":[400,600],"anchor.set":[.5,.5],"scale.set":[1,1],animationSpeed:.08});a.play(),t.exports=a},function(t,n,o){var e=o(3),a=!1,r=document.querySelector("#bgm");t.exports=function(t){var n=function(){r.src=e.gameBgm,r.play(),a=!0;var n=new PIXI.Container,i=o(9),s=o(10),u=o(16),c=o(12),d=o(17),h=o(14),l=new PIXI.Text("点击左右脚追上圣诞老贼抢回礼物，\n追上后点击圣诞老人就可以打他，\n顶部有血条",{font:"30px Arial",fill:6710886,align:"left"});l.x=0,l.y=90,c.off("touchstart"),c.on("touchstart",function(){n.end(!0)}),l.alpha=.8,s.init(),c.init(),u.init(),i.init(),n.end=function(n){o(19)(t,n,i.getCountRate()),r.pause()},n.addChild(d),n.addChild(c),n.addChild(s),n.addChild(u),n.addChild(h),n.addChild(i),n.addChild(l),t(n)};if(a)n();else{var i=o(26);i(e.game,n)}}},function(t,n,o){var e=o(2),a=(o(3),new PIXI.Container),r=e.getMc({maxFrame:2,preFix:"leftFoot","position.set":[0,1004],"scale.x":1,"scale.y":1,"anchor.set":[0,1]}),i=e.getMc({maxFrame:2,preFix:"rightFoot","position.set":[320,1004],"scale.x":1,"scale.y":1,"anchor.set":[0,1]}),s=!0,u=!0;r.interactive=!0,i.interactive=!0,r.on("touchstart",function(){s&&(s=!1,u=!0,a.footNum++,a.allCount++,r.gotoAndStop(1),i.gotoAndStop(0))}),i.on("touchstart",function(){u&&(s=!0,u=!1,a.footNum++,a.allCount++,i.gotoAndStop(1),r.gotoAndStop(0))}),a.speed=1,a.footNum=0,a.allCount=0,a.renderMaxNum=10,a.addChild(r),a.addChild(i);var c=a.renderMaxNum;a.getCountRate=function(){return this.allCount/(+new Date-this.startTime)*1e3},a.init=function(){this.allCount=0,this.startTime=+new Date},a.render=function(){this.footNum>=.1?this.footNum-=.13:this.footNum=0,--c||(c=a.renderMaxNum,this.speed=a.footNum/c*5)},t.exports=a},function(t,n,o){var e=o(2),a=o(11),r=o(12),i=o(13),s=o(14),u=o(15),c=750,d=310,h=e.getMc({maxFrame:4,preFix:"runMan","position.set":[d,c],"scale.set":[.5,.5],"anchor.set":[.5,.5],animationSpeed:.15,loop:!0});h.play(),h.speed=3,h.maxHp=200,h.hp=200,h.canHit=!1;var l=0,p=!1;h.interactive=!0,h.on("touchstart",function(){l=Date.now(),p=!0,s.hitScore=0}),document.querySelector("body").addEventListener("touchend",function(){l=Date.now()-l,p=!1,s.visible&&h.hitted(s.hitScore),s.hitScore=0}),h.fly=!1,h.flyToSkyBefore=function(){this.direction=a.makeIdentity([this.x,this.y]),h.speed=20,h.fly=!0,r.visible=!0},h.flyToSky=function(){this.x-=this.direction[0]*this.speed,this.y-=this.direction[1]*this.speed,this.rotation+=.1,this.scale.x-=.015,this.scale.y-=.015,this.x<0&&this.y<0&&(h.out=!0,h.st||(h.st=!0,setTimeout(function(){h.parent.end(!0)},2e3)))},h.hitted=function(t){this.hp-=t;var n=1-this.hp/this.maxHp,o=this.load(100*n+"%"),e=h.x+40*Math.random(),a=h.y+40*Math.random(),r=i(this.parent,e,a,h.scale);setTimeout(r,500),this.hp<0&&(this.flyToSkyBefore(),o())},h.setMode=function(t){if(!this.fly){t*=15,t>=1e3&&(t=1e3);var n=1-t/1e3;n<0&&(n=0),this.scale.set(n,n),this.x=d+t/2.2,this.y=c-t,this.visible=this.y>=280}},h.init=function(){this.speed=5,this.hp=this.maxHp,this.x=d,this.y=c,this.fly=!1,this.scale.set(.5,.5),this.rotation=0,this.out=!1,this.st=!1,this.load=u({x:"10%",y:"10px",width:"80%",height:"25px",bg:"red",loadColor:"#fff"},0)},h.render=function(){this.canHit&&p?(s.visible=!0,h.parent.addChild(s),s.x=this.x-s.radius*s.scale.x,s.y=this.y-s.radius*s.scale.y/2,s.hitScore++,s.scale.x=1+.05*s.hitScore,s.scale.y=1+.05*s.hitScore):(s.visible=!1,s.scale.set(0,0)),this.fly&&this.flyToSky()},t.exports=h},function(t,n){var o=function(t){if(0==t[0]&&0==t[1])return[0,0];var n=Math.pow(Math.pow(t[0],2)+Math.pow(t[1],2),.5);return[t[0]/n,t[1]/n]},e=function(t,n,o,e){return Math.pow(Math.pow(o-t,2)+Math.pow(e-n,2),.5)},a=function(){arguments=[].slice.call(arguments);var t=arguments.length;if(arguments.length>1){var n=arguments[t-1],o=arguments[t-2];for(var e in n)o[e]=n[e];return arguments.pop(),a.apply(null,arguments)}return arguments[0]};t.exports={makeIdentity:o,distance:e,extend:a}},function(t,n,o){var e=o(2),a=e.getMc({maxFrame:4,preFix:"gold","position.set":[535,400],"anchor.set":[.5,.5],"scale.set":[.5,.5],animationSpeed:.1});a.play(),a.visible=!1,a.interactive=!0,a.init=function(){this.visible=!1},t.exports=a},function(t,n,o){var e=o(2),a=o(3),r=e.getIm({img:a.pa,"anchor.set":[1,.5],"scale.set":[.25,.25]});r.render=function(){},t.exports=function(t,n,o,e){return r.x=n,r.y=o,r.scale.set(e.x,e.y),t.addChild(r),function(){t.removeChild(r)}}},function(t,n){var o=new PIXI.Graphics,e=160;o.lineStyle(0),o.beginFill(10066329,.5),o.drawCircle(160,90,60),o.endFill(),o.radius=e,o.hitScore=0,o.visible=!1,t.exports=o},function(t,n){var o=0,e=function(t,n){for(var o in n)t.style[o]=n[o];return t},a=document.querySelector("body");t.exports=function(t,n,r){r||(r=a);var i=document.createElement("div"),s=document.createElement("div");return i.id="loadingBox",i.className="loadingBox"+ ++o,i=e(i,{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height,backgroundColor:t.bg,overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:parseInt(t.height)/2+"px"}),s=e(s,{width:n,height:"100%",transition:"all 0.3s",backgroundColor:t.loadColor}),i.appendChild(s),r.appendChild(i),function(t){return s=e(s,{width:t}),function(){i.remove()}}}},function(t,n,o){var e=o(10),a=o(9),r=new PIXI.Text("距离米",{font:"32px Arial",fill:10066329,align:"center"});r.x=220,r.y=730;var i=100,s=a.renderMaxNum,u=s,c=10;r.calculateDistance=function(t,n,o){var e=n-o;return t=parseFloat(t),t+=t<=1e3?e:e<0?e:1,t=t<=0?0:t,t<=40&&(this.style.fill="#999999",this.style.font="32px Arial"),t>40&&t<300?(this.style.fill="#FFC200",this.style.font="40px Arial"):t>=300&&(this.style.fill="#FF0000",this.style.font="48px Arial"),t=t.toFixed(1)},r.init=function(){c=10,this.style.fill="#999999",this.fontSize="32px",this.failing=!1},r.gameFail=function(){this.failing||(this.failing=!0,setTimeout(function(){r.parent.end(!1)},1500))},r.render=function(){--u||e.out||(c=this.calculateDistance(c,e.speed,a.speed),e.setMode(c)),0===u&&(u=s),e.canHit=c<=i,c>500?(this.text="圣诞老贼逃走了！",this.gameFail()):this.text="距离"+c+"米"},t.exports=r},function(t,n,o){var e=o(2),a=o(18),r=o(3),i=new PIXI.Container,s=e.getIm({img:r.playBg,"anchor.set":[0,0],"position.set":[0,0],"scale.x":1,"scale.y":1}),u=0;i.configure=function(){u=0,i.addChild(s);for(var t=0;t<3;t++){var n=a(t);i.addChild(n),n.updateWithProgress(.3+.4*t)}},i.addNewHouse=function(){var t=a(parseInt(3*Math.random()));i.addChildAt(t,1),t.updateWithProgress(.2)},i.configure(),i.render=function(){this.children.length<4&&i.addNewHouse(),this.children.forEach(function(t){t.render&&t.render()})},t.exports=i},function(t,n,o){var e=o(2),a=o(3),r=o(9),i=function(t){var n=e.getIm({img:s[t],"anchor.set":[1,1],"position.set":[100,100],"scale.x":1,"scale.y":1});return n.progress=0,n.render=function(){this.progress+=.01*(r.speed/3),n.updateWithProgress(this.progress),this.progress>=1.5&&this.parent.removeChild(this)},n.updateWithProgress=function(t){this.progress=t,n.x=580-400*this.progress*this.progress,n.y=360+400*(1.2-.05*this.progress)*this.progress*this.progress,n.scale.x=1.1*this.progress,n.scale.y=this.progress},n},s=[a.house1,a.house2,a.house3,a.house2,a.house1,a.house3,a.house2,a.house1,a.house3];t.exports=i},function(t,n,o){var e=o(3),a=!1;t.exports=function(t,n,r){var i=document.querySelector("#loadingBox");i&&i.remove();var s=function(){a=!0,r||(r=0),r=r.toFixed(2),document.title="在和圣诞老贼的搏斗中，我的手速竟以达到 "+r+" 每秒的境地！谁来与我一战！";var e=new PIXI.Container,i=o(20),s=o(21),u=o(24),c=o(25)(!!n),d=new PIXI.Text(r,{font:"60px Arial",fill:16777215,align:"center"});d.x=140,d.y=225,u.interactive=!0,u.on("touchstart",function(){o(8)(t),u.off("touchstart")}),e.addChild(i),e.addChild(u),e.addChild(s),e.addChild(d),e.addChild(c),t(e)};if(a)s();else{var u=o(26);u(e.end,s)}}},function(t,n,o){var e=o(3),a=o(2),r=a.getIm({img:e.endSign,"position.set":[320,0],"anchor.set":[.5,0]});t.exports=r},function(t,n,o){var e=o(3),a=o(2),r=o(22),i=a.getIm({img:e.shareButton,"position.set":[640,0],"anchor.set":[1,0]});i.interactive=!0,i.on("touchstart",function(){r(e.howToShare)}),t.exports=i},function(t,n,o){var e=o(23),a=document.querySelector("body");t.exports=function(t){var n=new Image;n.src=t,n=e.setStyle(n,{width:"65%",position:"absolute",top:"20px",right:"20px"});var o=document.createElement("div");o=e.setStyle(o,{backgroundColor:"#000",opacity:.8,zIndex:10,width:"100%",height:"100%",position:"fixed",top:0,left:0});var r=document.createElement("div");return r=e.setStyle(r,{zIndex:100,width:"100%",height:"100%",position:"fixed",top:0,left:0}),r.appendChild(n),a.appendChild(o),a.appendChild(r),r.onclick=function(){o.remove(),r.remove()},function(){o.remove(),r.remove()}}},function(t,n){t.exports={setStyle:function(t,n){for(var o in n)t.style[o]=n[o];return t}}},function(t,n,o){var e=o(3),a=o(2),r=a.getIm({img:e.playAgain,"position.set":[320,502],"anchor.set":[.5,.5]});t.exports=r},function(t,n,o){var e=o(2),a=o(3);t.exports=function(t){var n=e.getIm({img:t?a.resultSuccess:a.resultFail,"position.set":[140,100],"anchor.set":[.5,.5],rotation:-.6});return n}},function(t,n){var o=function(t,n){n&&n.length>1&&(n=n.slice(1).forEach(function(n){for(var o in n)t.add(o,n[o])}),t.load())};t.exports=function(t,n){var e=PIXI.loader,a=0;if(t.next){var r=t.next[0];for(a in r)e.add(a,r[a])}else for(a in t)t.hasOwnProperty(a)&&e.add(a,t[a]);e.on("progress",function(t,n){}),e.once("complete",function(){console.log("load done"),n(),o(e,t.next)}),e.load()}}]);
//# sourceMappingURL=hitRunManIndex.js.map