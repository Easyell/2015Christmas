!function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="http://localhost:7301/public/dist",n(0)}([function(t,n,e){var i,o=e(1),a=(e(2),e(3),o.isSupportWebGL());i=a?new PIXI.WebGLRenderer(640,1004,{transparent:!0}):new PIXI.CanvasRenderer(640,1004,{transparent:!0});var r=function(t){function n(){t.render&&t.render(),t.children.forEach(function(t){t.render&&t.render()}),i.render(t),requestAnimationFrame(n)}n()};document.body.appendChild(i.view),e(4)(r)},function(t,n){t.exports={isSupportWebGL:function(){if(window.WebGLRenderingContext){for(var t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],e=!1,i=0;4>i;i++)try{if(e=t.getContext(n[i]),e&&"function"==typeof e.getParameter)return!0}catch(o){}return!1}return!1}}},function(t,n){var e=function(t,n,i){if(1===n.length){var o=n[0];"function"==typeof t[o]?t[o].apply(t,[].concat(i)):t[o]=i}else e(t[n.shift()],n,i);return t},i=function(t,n){for(var i in n)e(t,i.split("."),n[i]);return t};t.exports={getMc:function(t){var n=t.maxFrame,e=t.preFix,o=[];delete t.maxFrame,delete t.preFix;for(var a=1;n>=a;a++)o.push(PIXI.Texture.fromFrame(e+a+".png"));var r=new PIXI.extras.MovieClip(o);return r.maxFrame=t.maxFrame,i(r,t)},getIm:function(t){var n=t.img;delete t.img;var e=PIXI.Texture.fromImage(n),o=new PIXI.Sprite(e);return i(o,t)}}},function(t,n){var e={leftFoot:"/images/hitRunMan/foot/leftFoot.json",rightFoot:"/images/hitRunMan/foot/rightFoot.json",runMan:"/images/hitRunMan/runMan/runMan.json",fist:"/images/hitRunMan/fist/fist.png",flyFist:"/images/hitRunMan/flyFist/flyFist.png",gold:"/images/hitRunMan/gold/gold.json",pa:"/images/hitRunMan/pa/pa.png",house1:"/images/hitRunMan/house/house1.png",house2:"/images/hitRunMan/house/house2.png",house3:"/images/hitRunMan/house/house3.png",playBg:"/images/hitRunMan/background/playBackground.png",start_snowman:"/images/hitRunMan/start_snowman/start_snowman.json",startTitle:"/images/hitRunMan/startTitle.png",christmasTree:"/images/hitRunMan/christmasTree/christmasTree.png",startBackground:"/images/hitRunMan/startBackground/startBackground.png",gift:"/images/hitRunMan/gift/gift.json",snowmanhand:"/images/hitRunMan/snowmanhand/snowmanhand.png",endBg:"/images/hitRunMan/background/endSign.png",howToShare:"/images/hitRunMan/background/howToShare.png",playAgain:"/images/hitRunMan/playAgain/playAgain.png",shareButton:"/images/hitRunMan/playAgain/share.png",resultSuccess:"/images/hitRunMan/playAgain/resultSuccess.png",resultFail:"/images/hitRunMan/playAgain/resultFail.png",game:{leftFoot:"/images/hitRunMan/foot/leftFoot.json",rightFoot:"/images/hitRunMan/foot/rightFoot.json",runMan:"/images/hitRunMan/runMan/runMan.json",fist:"/images/hitRunMan/fist/fist.png",flyFist:"/images/hitRunMan/flyFist/flyFist.png",gold:"/images/hitRunMan/gold/gold.json",pa:"/images/hitRunMan/pa/pa.png",house1:"/images/hitRunMan/house/house1.png",house2:"/images/hitRunMan/house/house2.png",house3:"/images/hitRunMan/house/house3.png",playBg:"/images/hitRunMan/background/playBackground.png"},start:{start_snowman:"/images/hitRunMan/start_snowman/start_snowman.json",startTitle:"/images/hitRunMan/startTitle.png",christmasTree:"/images/hitRunMan/christmasTree/christmasTree.png",startBackground:"/images/hitRunMan/startBackground/startBackground.png",gift:"/images/hitRunMan/gift/gift.json",snowmanhand:"/images/hitRunMan/snowmanhand/snowmanhand.png"},end:{endBg:"/images/hitRunMan/background/endSign.png",howToShare:"/images/hitRunMan/background/howToShare.png"}};Object.defineProperty(e,"startBgm",{enumerable:!1,value:"/audio/start_bgm.mp3"}),Object.defineProperty(e,"gameBgm",{enumerable:!1,value:"/audio/hot_run.mp3"});var i={local:e};t.exports=i[resourcePosition]||i.local},function(t,n,e){var i=e(3),o=!1;t.exports=function(t){document.querySelector("#bgm").src=i.startBgm;var n=function(n){o=!0;var a=new PIXI.Container;a.customTimer=0;var r=e(2),s=r.getIm({img:i.startBackground,"position.set":[320,0],"anchor.set":[.5,0]}),u=e(5);u.down();var h=e(6),c=e(7);a.addChild(s),a.addChild(c),a.addChild(h),a.addChild(u),a.render=function(){a.customTimer<=300?a.customTimer++:0==h.status&&h.handdown(),2==h.status&&(h.handup(),u.up()),4==h.status&&e(8)(t)},t(a)};if(o)n();else{var a=e(29);a(i.start,n)}}},function(t,n,e){var i=e(2),o=(e(3),i.getMc({maxFrame:2,preFix:"gift","position.set":[46,800],"scale.x":1,"scale.y":1,"anchor.set":[0,0]}));o.status=0,o.up=function(){o.gotoAndStop(1),o.status=1},o.down=function(){o.gotoAndStop(2)},o.render=function(){if(1==o.status){o.y-=2;var t=.04*(o.y-650);o.x=10+t*t,o.y<500&&(o.status=2)}},t.exports=o},function(t,n,e){var i=e(2),o=e(3),a=i.getIm({img:o.snowmanhand,"anchor.set":[1,1],"position.set":[250,700],"scale.x":1,"scale.y":1,rotation:0});a.status=0,a.handdown=function(){a.status=1},a.handup=function(){a.status=3},a.render=function(){1==a.status?(a.rotation-=.01,a.rotation<=-1.5&&(a.rotation=-1.5,a.status=2)):3==a.status&&(a.rotation+=.01,a.rotation>=0&&(a.rotation=0,a.status=4))},t.exports=a},function(t,n,e){var i=e(2),o=i.getMc({maxFrame:5,preFix:"start_snowman","position.set":[400,600],"anchor.set":[.5,.5],"scale.set":[1,1],animationSpeed:.08});o.play(),t.exports=o},function(t,n,e){var i=e(3),o=!1,a=document.querySelector("#bgm");t.exports=function(t){a.src=i.gameBgm,a.play();var n=function(){o=!0;var n=new PIXI.Container,i=e(9),r=e(10),s=e(19),u=e(12),h=e(20),c=e(17),d=e(14);u.off("touchstart"),u.on("touchstart",function(){e(22)(t),a.pause()}),r.init(),u.init(),s.init(),n.addChild(h),n.addChild(u),n.addChild(r),n.addChild(s),n.addChild(c),n.addChild(d),n.addChild(i),t(n)};if(o)n();else{var r=e(29);r(i.game,n)}}},function(t,n,e){var i=e(2),o=(e(3),new PIXI.Container),a=i.getMc({maxFrame:2,preFix:"leftFoot","position.set":[0,1004],"scale.x":1,"scale.y":1,"anchor.set":[0,1]}),r=i.getMc({maxFrame:2,preFix:"rightFoot","position.set":[320,1004],"scale.x":1,"scale.y":1,"anchor.set":[0,1]}),s=!0,u=!0;a.interactive=!0,r.interactive=!0,a.on("touchstart",function(){s&&(s=!1,u=!0,o.footNum++,a.gotoAndStop(1),r.gotoAndStop(0))}),r.on("touchstart",function(){u&&(s=!0,u=!1,o.footNum++,r.gotoAndStop(1),a.gotoAndStop(0))}),o.speed=1,o.footNum=0,o.renderMaxNum=10,o.addChild(a),o.addChild(r);var h=o.renderMaxNum;o.render=function(){this.footNum>=.1?this.footNum-=.1:this.footNum=0,--h||(h=o.renderMaxNum,this.speed=o.footNum/h*10)},t.exports=o},function(t,n,e){var i=e(2),o=e(11),a=e(12),r=(e(13),e(15),e(16)),s=e(17),u=e(18),h=930,c=310,d=i.getMc({maxFrame:4,preFix:"runMan","position.set":[c,h],"scale.set":[.5,.5],"anchor.set":[.5,.5],animationSpeed:.15,loop:!0});d.play(),d.speed=3,d.maxHp=200,d.hp=200,d.canHit=!1;var l=0,g=!1;d.interactive=!0,d.on("touchstart",function(){l=Date.now(),g=!0,s.hitScore=0}),document.querySelector("body").addEventListener("touchend",function(){l=Date.now()-l,g=!1,s.visible&&d.hitted(s.hitScore),s.hitScore=0}),d.fly=!1,d.flyToSkyBefore=function(){this.direction=o.makeIdentity([this.x,this.y]),d.speed=20,d.fly=!0,a.visible=!0},d.flyToSky=function(){this.x-=this.direction[0]*this.speed,this.y-=this.direction[1]*this.speed,this.rotation+=.1,this.scale.x-=.015,this.scale.y-=.015,this.x<0&&this.y<0&&(d.out=!0)},d.hitted=function(t){this.hp-=t;var n=1-this.hp/this.maxHp,e=this.load(100*n+"%"),i=d.x+40*Math.random(),o=d.y+40*Math.random(),a=r(i,o,d.scale);setTimeout(a,500),this.hp<0&&(this.flyToSkyBefore(),e())},d.setMode=function(t){if(!this.fly){t=15*t,t>=1e3&&(t=1e3);var n=1-t/1e3;0>n&&(n=0),this.scale.set(n,n),this.x=c+t/2.2,this.y=h-t,this.visible=this.y>=280}},d.init=function(){this.speed=3,this.hp=this.maxHp,this.x=c,this.y=h,this.fly=!1,this.scale.set(.5,.5),this.rotation=0,this.out=!1,this.load=u({x:"10%",y:"20px",width:"80%",height:"25px",bg:"red",loadColor:"#fff"},0)},d.render=function(){this.canHit&&g?(s.visible=!0,d.parent.addChild(s),s.x=this.x-s.radius*s.scale.x,s.y=this.y-s.radius*s.scale.y/2,s.hitScore++,s.scale.x=1+.05*s.hitScore,s.scale.y=1+.05*s.hitScore):(s.visible=!1,s.scale.set(0,0)),this.fly&&this.flyToSky()},t.exports=d},function(t,n){var e=function(t){if(0==t[0]&&0==t[1])return[0,0];var n=Math.pow(Math.pow(t[0],2)+Math.pow(t[1],2),.5);return[t[0]/n,t[1]/n]},i=function(t,n,e,i){return Math.pow(Math.pow(e-t,2)+Math.pow(i-n,2),.5)},o=function(){arguments=[].slice.call(arguments);var t=arguments.length;if(arguments.length>1){var n=arguments[t-1],e=arguments[t-2];for(var i in n)e[i]=n[i];return arguments.pop(),o.apply(null,arguments)}return arguments[0]};t.exports={makeIdentity:e,distance:i,extend:o}},function(t,n,e){var i=e(2),o=i.getMc({maxFrame:4,preFix:"gold","position.set":[535,400],"anchor.set":[.5,.5],"scale.set":[.5,.5],animationSpeed:.1});o.play(),o.visible=!1,o.interactive=!0,o.init=function(){this.visible=!1},t.exports=o},function(t,n,e){var i=e(2),o=e(11),a=e(3),r=(e(10),e(14)),s=function(t,n,e){var i=t%2===0?1:-1,o=320+90*Math.ceil(t/2)*i,a=600,r=-Math.tanh((o-n)/(a-e));return{x:o,y:a,rotation:r}},u=25,h=function(t,n,e){var s=i.getIm({img:a.flyFist,"anchor.set":[.5,.5],"scale.set":[.25,.25]}),h=null,c=t.x-n,d=t.y-e;return h=o.makeIdentity([c,d]),console.log(h,t.x,n),s.init=function(){},s.render=function(){this.x-=u*h[0],this.y-=u*h[1],this.y-100>e},s.position.set(t.x,t.y),s.rotation=t.rotation,r.addChild(s),function(){r.removeChild(s)}};t.exports=function(t,n,e){for(var i=[],o=0;t>o;o++)i.push(h(s(o,n,e),n,e));return function(){i.forEach(function(t){t()})}}},function(t,n,e){var i=(e(2),new PIXI.Container);i.render=function(){this.children.forEach(function(t){t.render&&t.render()})},t.exports=i},function(t,n,e){var i=e(2),o=(e(11),e(14)),a=e(3),r=i.getIm({img:a.fist,"position.set":[660,400],"anchor.set":[1,.5],"scale.set":[.25,.25]});r.render=function(){},t.exports=function(){return o.addChild(r),function(){o.removeChild(r)}}},function(t,n,e){var i=e(2),o=(e(11),e(14)),a=e(3),r=i.getIm({img:a.pa,"anchor.set":[1,.5],"scale.set":[.25,.25]});r.render=function(){},t.exports=function(t,n,e){return r.x=t,r.y=n,r.scale.set(e.x,e.y),o.addChild(r),function(){o.removeChild(r)}}},function(t,n){var e=new PIXI.Graphics,i=160;e.lineStyle(0),e.beginFill(10066329,.5),e.drawCircle(160,90,60),e.endFill(),e.radius=i,e.hitScore=0,e.visible=!1,t.exports=e},function(t,n){var e=0,i=function(t,n){for(var e in n)t.style[e]=n[e];return t},o=document.querySelector("body");t.exports=function(t,n,a){a||(a=o);var r=document.createElement("div"),s=document.createElement("div");return r.id="loadingBox",r.className="loadingBox"+ ++e,r=i(r,{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height,backgroundColor:t.bg,overflow:"hidden",border:"1px solid #f0f0f0",borderRadius:parseInt(t.height)/2+"px"}),s=i(s,{width:n,height:"100%",transition:"all 0.3s",backgroundColor:t.loadColor}),r.appendChild(s),a.appendChild(r),function(t){return s=i(s,{width:t}),function(){r.remove()}}}},function(t,n,e){var i=e(10),o=e(9),a=new PIXI.Text("距离米",{font:"32px Arial",fill:10066329,align:"center"});a.x=220,a.y=730;var r=100,s=o.renderMaxNum,u=s,h=10,c=function(t,n,e){var i=n-e;return t=parseFloat(t),t+=1e3>=t?i:0>i?i:1,t=0>=t?0:t,t=t.toFixed(1)};a.init=function(){h=10},a.render=function(){--u||i.out||(h=c(h,i.speed,o.speed),i.setMode(h)),0===u&&(u=s),i.canHit=r>=h,this.text="距离"+h+"米"},t.exports=a},function(t,n,e){var i=e(2),o=e(21),a=e(3),r=new PIXI.Container,s=i.getIm({img:a.playBg,"anchor.set":[0,0],"position.set":[0,0],"scale.x":1,"scale.y":1}),u=0;r.configure=function(){u=0,r.addChild(s);for(var t=0;3>t;t++){var n=o(t);r.addChild(n),n.updateWithProgress(.2+.4*t)}},r.addNewHouse=function(){var t=o(parseInt(3*Math.random()));r.addChildAt(t,1),t.updateWithProgress(.2)},r.configure(),r.render=function(){this.children.length<4&&r.addNewHouse(),this.children.forEach(function(t){t.render&&t.render()})},t.exports=r},function(t,n,e){var i=e(2),o=e(3),a=e(9),r=function(t){var n=i.getIm({img:s[t],"anchor.set":[1,1],"position.set":[100,100],"scale.x":1,"scale.y":1});return n.progress=0,n.render=function(){this.progress+=.01*(a.speed/3),n.updateWithProgress(this.progress),this.progress>=1.5&&this.parent.removeChild(this)},n.updateWithProgress=function(t){this.progress=t,n.x=580-400*this.progress*this.progress,n.y=360+400*(1.2-.05*this.progress)*this.progress*this.progress,n.scale.x=1.1*this.progress,n.scale.y=this.progress},n},s=[o.house1,o.house2,o.house3,o.house2,o.house1,o.house3,o.house2,o.house1,o.house3];t.exports=r},function(t,n,e){e(3);t.exports=function(t){var n=new PIXI.Container,i=0,o=e(23),a=e(24),r=e(27),s=e(28)(!0),u=new PIXI.Text(i,{font:"60px Arial",fill:16777215,align:"center"});u.x=180,u.y=230,r.interactive=!0,r.on("touchstart",function(){e(8)(t),r.off("touchstart")}),n.addChild(o),n.addChild(r),n.addChild(a),n.addChild(u),n.addChild(s),t(n)}},function(t,n,e){var i=e(3),o=e(2),a=o.getIm({img:i.endBg,"position.set":[320,0],"anchor.set":[.5,0]});t.exports=a},function(t,n,e){var i=e(3),o=e(2),a=e(25),r=o.getIm({img:i.shareButton,"position.set":[640,0],"anchor.set":[1,0]});r.interactive=!0,r.on("touchstart",function(){a(i.howToShare)}),t.exports=r},function(t,n,e){var i=e(26),o=document.querySelector("body");t.exports=function(t){var n=new Image;n.src=t,n=i.setStyle(n,{width:"65%",position:"absolute",top:"20px",right:"20px"});var e=document.createElement("div");e=i.setStyle(e,{backgroundColor:"#000",opacity:.8,zIndex:10,width:"100%",height:"100%",position:"fixed",top:0,left:0});var a=document.createElement("div");return a=i.setStyle(a,{zIndex:100,width:"100%",height:"100%",position:"fixed",top:0,left:0}),a.appendChild(n),o.appendChild(e),o.appendChild(a),a.onclick=function(){e.remove(),a.remove()},function(){e.remove(),a.remove()}}},function(t,n){t.exports={setStyle:function(t,n){for(var e in n)t.style[e]=n[e];return t}}},function(t,n,e){var i=e(3),o=e(2),a=o.getIm({img:i.playAgain,"position.set":[320,502],"anchor.set":[.5,.5]});t.exports=a},function(t,n,e){var i=e(2),o=e(3);t.exports=function(t){var n=i.getIm({img:t?o.resultSuccess:o.resultFail,"position.set":[140,100],"anchor.set":[.5,.5],rotation:-.6});return n}},function(t,n){var e=function(t,n){n&&n.length>1&&(n=n.slice(1).forEach(function(n){for(var e in n)t.add(e,n[e])}),t.load())};t.exports=function(t,n){var i=PIXI.loader,o=0;if(t.next){var a=t.next[0];for(o in a)i.add(o,a[o])}else for(o in t)i.add(o,t[o]);i.on("progress",function(t,n){}),i.once("complete",function(){console.log("load done"),n(),setTimeout(function(){e(i,t.next)},5e3)}),i.load()}}]);
//# sourceMappingURL=hitRunManIndex.js.map